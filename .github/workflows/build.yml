name: Build
on:
workflow_dispatch:
输入:
package_name:
描述: "游戏包名：com.ozuma.ayamasa"
必需的: true

jobs:
建立:
连续的: ubuntu-latest
步骤:
    - uses: actions/checkout@v3
    - uses: actions/setup-java@v3
和……一起:
分布: temurin
java版: 11
缓存: gradle
    - run: |
        chmod +x ./gradlew
        sed -i 's/moduleDescription = "/moduleDescription = "(${{ github.event.inputs.package_name }}) /g' module.gradle
        sed -i "s/com.game.packagename/${{ github.event.inputs.package_name }}/g" module/src/main/cpp/game.h
        ./gradlew :module:assembleRelease
    - uses: actions/upload-artifact@v3
      with:
姓名: zygisk-il2cppdumper
路径: out/magisk_module_release/
